clear all;

[x,y,z] = textread('../optimized.txt');
[cx,cy,cz,dump] = textread('../camera_points.txt');

ppi = 30;
planes = length(x)/30;

figure;
hold on;
for i=1:planes
    scatter3(x((i-1)*ppi+1:i*ppi),y((i-1)*ppi+1:i*ppi),z((i-1)*ppi+1:i*ppi));
end

scatter3(cx,cy,cz,'b+');

nox = mean(x);
noy = mean(y);
noz = mean(z);

nocx = mean(cx);
nocy = mean(cy);
nocz = mean(cz);

scx = cx-nox;
scy = cy-noy;
scz = cz-noz;

scatter3(scx,scy,scz,'r+');

plot3([nox nocx], [noy nocy], [noz nocz]);

d = 100;

den = 1 + ((scy(6)-scy(5))/(scx(6)-scx(5)))^2 + ((scz(6)-scz(5))/(scx(6)-scx(5)))^2;
num = d^2;
x

axis equal;
