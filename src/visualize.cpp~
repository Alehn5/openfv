#include "std_include"

#include <opencv2/opencv.hpp>
#include <opencv2/gpu/gpu.hpp>

#include "tools.h"

using namespace cv;
using namespace std;

void gpuRefocus::start() {

    initialize();

    namedWindow("Result", CV_WINDOW_AUTOSIZE);       
    refocus(z);
    
    while( 1 ){
        int key = cvWaitKey(10);
        if( (key & 255)==83 ) {
            z += 0.5;
            refocus(z);
        } else if( (key & 255)==81 ) {
            z -= 0.5;
            refocus(z);
        } else if( (key & 255)==27 ) {
            break;
        }
    }

}
