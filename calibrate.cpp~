// -------------------------------------------------------
// -------------------------------------------------------
// Synthetic Aperture - Particle Tracking Velocimetry Code
// --- Camera Calibration Section ---
// Author: Abhishek Bajpayee
//         Dept. of Mechanical Engineering
//         Massachusetts Institute of Technology
// -------------------------------------------------------
// -------------------------------------------------------

#include "stdinclude.h"
#include "io.h"
#include "processing.h"

using namespace cv;
using namespace std;

// -------------------------------------------------------
// Data Types START
struct cameraData {
    Mat cameraMat;
    Mat dist_coeffs;
    vector<Mat> rvecs;
    vector<Mat> tvecs;
};
// Data Types END
// -------------------------------------------------------


int main(int argc, char** argv) {

    char* path("../experiment/calibration/");
    vector<string> cam_names = read_cam_names(path);
    vector< vector<Mat> > calib_imgs = read_calib_imgs(path, cam_names);
    vector< vector<Point2f> > corner_points = find_corners(calib_imgs);
    cameraData* cData = calibrate_cameras(corner_points, calib_imgs.size(), calib_imgs[0].size());

    return 1;

}
